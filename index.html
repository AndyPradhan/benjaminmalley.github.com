
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Clod Computing</title>
  <meta name="author" content="Benjamin Malley">

  
  <meta name="description" content="Try this little Python quiz. Given, the following Python code 1
test = [(lambda: i) for i in range(1, 10)] what do you think the value of test[0]() &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://BenjaminMalley.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Clod Computing" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800"
rel="stylesheet" type="text/css">
<link
href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700"
rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Clod Computing</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:BenjaminMalley.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/12/scope-surprise/">Scope Surprise</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-12T21:45:00+00:00" pubdate data-updated="true">Mar 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Try this little Python quiz. Given, the following Python code</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">test</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>
</span></code></pre></td></tr></table></div></figure>


<p>what do you think the value of <code>test[0]()</code> is?</p>

<p>Did you say 1? Guess again. The answer is 9. In fact, the answer does not change no matter what index you call in the test list&#8211;it&#8217;s always 9.</p>

<p>If this surprises you, it may be because, well, it&#8217;s a little surprising. But surprising or not, it perfectly valid when evaluated against Python&#8217;s scoping rules. Python defines scope in terms of three distinct blocks: a module, a function and a class definition.  Straight from the language reference:</p>

<p>When a name is used in a code block, it is resolved using the nearest enclosing scope. The set of all such scopes visible to a code block is called the block&#8217;s environment.</p>

<p>List comprehensions, for loops and if-else statements do not introduce new blocks and therefore do not introduce new scopes. Thus, when the lambda is called, it looks up i in the current environment and discovers that its value is now nine.</p>

<p>Because function bodies <em>do</em> introduce new scopes, you can of course &#8220;resolve&#8221; this issue by creating a closure around the lambda like so</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">test</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">x</span><span class="p">))(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, you should not write this code in Python.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/22/time-to-end-the-java-hate/">Time to End the Java Hate</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-22T21:45:00+00:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was just beginning to like The Verge and then <em>bam!</em> they published
<a href="http://www.theverge.com/2013/2/22/4016582/after-so-many-hacks-why-wont-java-just-go-away">this article</a> in which the author conflates Java <em>applets</em>, which were always a terrible idea, with the entire Java ecosystem, which continues to be an awesome piece of kit and arrives at the completely erroneous conclusion that Java needs to die. Honestly, I&#8217;m getting tired of all the Java hate.</p>

<p>We need Java. None of its purported &#8220;successor languages&#8221; do the &#8220;C++
without guns knives or clubs&#8221; thing better than Java. Scala? Great language,
but have you seen it? Do we really think the next Java needs infix style
method invocation? And even if for whatever reason Java the <em>language</em>
tomorrow is scrapped tomorrow, we still need Java the <em>platform</em>.
Clojure needs it, Scala needs it, Android needs it (yes, I know Android
runs on Dalvik, but most Android <em>development</em> happens on the JVM). The
JVM is fast. Really fast. It runs on pretty much every platform you can
think of. So at the end of the day, if we kill &#8220;Java&#8221;, we haven&#8217;t done
anything to mitigate the security problems The Verge is so worried
about.</p>

<p>So by all means, kill the applets. Purge Java from laptops.  Relegate
it to the servers, where it belongs. Make it sit in the corner and wear
a funny hat. But please, put down the pitchforks.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/22/clojure-atoms-in-python/">Implementing Clojure&#8217;s Atoms in Python</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-22T20:13:00+00:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve long been a fan of Python, but I&#8217;ve recently been getting into Clojure and especially digging the concurrency features. Even though Python&#8217;s not quite as strong in the concurrency department, I figured it would be relatively easy to implement something like Clojure&#8217;s atoms in Python. And I was right, for the most part.</p>

<p>For the uninitiated, atoms are Clojure&#8217;s synchronous, uncoordinated reference type. Atoms are created with the atom macro (ie. (def a (atom 0))) and modified with swap!. (swap! a fn), for example, applies the function fn to the current value of the atom a and updates a to the return value of the function. Easy, right? (This is why Clojure is so cool.)</p>

<p>This isn&#8217;t difficult to do in Python. Here&#8217;s how I did it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">atom</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
</span><span class='line'>    <span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Lock</span>
</span><span class='line'>    <span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>
</span><span class='line'>    <span class="n">value</span> <span class="o">=</span> <span class="n">val</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
</span><span class='line'>        <span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span class='line'>        <span class="n">nonlocal</span> <span class="n">value</span>
</span><span class='line'>        <span class="k">try</span><span class="p">:</span>
</span><span class='line'>            <span class="n">value</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span class='line'>            <span class="k">return</span> <span class="n">value</span>
</span><span class='line'>        <span class="k">finally</span><span class="p">:</span>
</span><span class='line'>            <span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">swap</span>
</span></code></pre></td></tr></table></div></figure>


<p>The atom function sets the initial value of the atom and returns the swap function, which, in turn, takes a function as an argument and updates the atom&#8217;s value by setting the value to function(value). The lock provides thread safety. Note the presence of the nonlocal keyword, which means this is Python 3 only (Python 2 closures allow only read access to outer scope variables, not write access. Urg!).</p>

<p>With this approach, the return value of atom() is the swap! function for the atom it defines. Therefore, swap! is invoked by calling the return value with the updating function like so:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="n">atom</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'><span class="n">a</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>In Clojure, atoms are dereferenced with a special dereferencing operator, @. We don&#8217;t have any cool tricks like that in Python. Instead, the current value of the atom is returned by the identity function:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">a</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Other than that, it pretty much works as expected.</p>

<p>So here&#8217;s where the frustration set in. Experienced Pythonistas are doubtless aware of the limitations of Python&#8217;s threading implementation imposed by the Global Interpreter Lock. The Python documentation specifically states: If you want your application to make better of use of the computational resources of multi-core machines, you are advised to use multiprocessing. Multiprocessing, of course, supports the same primitives as threading, which means that in most cases, multiprocessing can be substituted for threading without major adjustments.
There is, however, one difference between threading and multiprocessing which renders my fun atom implementation useless. Multiprocessing uses pickle to serialize objects and share them between processes and unbound methods (i.e., our swap function) are not serializable.</p>

<p>Therefore, while this works just fine:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">time</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="n">atom</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span class='line'>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span>
</span><span class='line'>
</span><span class='line'><span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span class='line'>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
</span><span class='line'>        <span class="n">e</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">add</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Doing the same thing with a ProcessPoolExecutor throws an exception. I&#8217;d
really like to be able to use this implementation with processes, but I
haven&#8217;t come up with a good solution yet. Sometimes, in life as in
Python, it&#8217;s better to just use objects and call it a day.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/29/authentication-over-oauth/">Authentication Over OAuth</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-29T03:29:00+00:00" pubdate data-updated="true">Feb 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Authorization via OAuth is a really great idea. Properly implemented, it provides adequate security in a way that&#8217;s mostly seamless to users. Authentication via OAuth, on the other hand, is a really, really bad idea. Properly implemented, it encourages insecure behavior on the part of users and opens the door to malicious attacks.</p>

<p>Now, to be clear, I understand that OAuth doesn&#8217;t actually handle authentication. But commonplace implementations of it allow users to authenticate in the context of an OAuth authorization. If a user wants to allow application A to access resources hosted by application B, they follow a link on A and authenticate to a login form C (supposedly hosted by C). The problem here is that some malicious entity could operate both A and C, presenting C as if it were hosted by B and collect user credentials all the live long day. Of course, OAuth pages are validated by HTTPS and CAs to prevent this kind of attack, but never mind this because users almost certainly won&#8217;t.</p>

<p>To check this problem out for myself, I mocked up my own little web app which does nothing except pretend to authenticate to Facebook via OAuth. Then I got some people I knew to enter their passwords into the web form I provided by pretending I wanted to demo something I was working on.  Did the fact that I knew these people influence the likelihood that they would enter their credentials into my form? Undoubtedly. However, even if there is never a single successful OAuth phishing attempt in the wild (which I highly doubt), it&#8217;s still broken because a) it squanders inherent security advantages of the platforms it&#8217;s meant to protect and b) it encourages unsafe behavior on the part of users.</p>

<p>Facebook, Twitter et al have great inherent phishing protection because users&#8217; homepages contain a great deal of personal information and are thus hard to replicate. Online banking services try to accomplish something similar by presenting users with a shared secret image or phrase at login so users know they&#8217;re logging into the correct site. Same idea, but less good because it&#8217;s much harder to remember to check for the inclusion of, say, the picture of the tree you picked out back when you created your account than it is to see if your friends are still the same people they always were and they&#8217;re still providing reasonable status updates.</p>

<p>One consequence of this is that if a user is attempting to log into Facebook and has been phished, he or she is more likely to know right away.  Knowledge that one&#8217;s credentials have been compromised, while less good than not having one&#8217;s credentials compromised in the first place, is still leagues better than lack of awareness. But by shifting authentication to a special OAuth page, or worse, overlay, users aren&#8217;t redirected to their home page after a successful login, thus the advantage is squandered and the likelihood is increased that a user&#8217;s credentials can be compromised without his or her knowledge.</p>

<p>But even that really doesn&#8217;t get to the heart of it. Authentication over OAuth is bad because it actively encourages unsafe practices. Users don&#8217;t know what OAuth is. They don&#8217;t care. The user experience of OAuth is divorced from the implementation. Once it becomes normative to input one&#8217;s credentials in special authorization overlays, that&#8217;s what users will do, regardless of the whether the underlying mechanism is OAuth or plain text over HTTP.</p>

<p>Services that implement authentication through OAuth are doing a disservice to their users. Instead of taking advantage of the opportunity to educate users about security and improving the safety of the web for everyone, services that implement authentication over OAuth are punting, and choosing convenience over security.</p>

<p>Fortunately, the remedy for this problem is simple: don&#8217;t allow your users to authenticate through OAuth. Just don&#8217;t do it. Authentication over OAuth is not fundamental to the service and can easily be replaced by a nice, user friendly message.  Something like this:</p>

<p><em>Service X doesn&#8217;t recognize you. This isn&#8217;t a big deal, it probably
just means you&#8217;re not currently logged in. If you want to authorize this
application to access your Service X account, head on over to
ServiceX.com and log into your account. Then try the authorization
process again.</em></p>

<p>Yes, from a UX perspective this message is less convenient than providing a log in form, but I have a hard time imaging any user experience that&#8217;s worse than having one&#8217;s account stolen.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/16/words-for-friends/">Words for Friends</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-16T21:14:00+00:00" pubdate data-updated="true">Feb 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been playing some Words with Friends with my family. I don&#8217;t love
the game, but I do like that my whole family&#8217;s playing it, especially
because we&#8217;re spread out across the country.  For the uninitiated, Words
with Friends is asynchronous Scrabble. I get a message on my phone every
time it&#8217;s my turn, so I don&#8217;t have to pay attention to the game. That&#8217;s
nice.</p>

<p>So Tuesday was Valentine&#8217;s Day and that morning I got a &#8220;your move&#8221;
message from Words with Friends. It was a nice holiday-themed message,
too: Janmalley made a move on you (in Words, of course!). There was a
little heart at the end of the message.</p>

<p><img src="/images/words-with-friends.png"></p>

<p>To be clear, Janmalley is my mother.  Now there are people out there,
I&#8217;m sure, who would find the unintentional connotation amusing. Oedipus
jokes would ensue. I&#8217;m not one of those people. I found the whole thing
pretty distasteful.</p>

<p>Look, I get it. Words with Friends is a game. It&#8217;s supposed to be fun
and light-hearted. And Valentine&#8217;s Day is a fun, light-hearted holiday.
I&#8217;m not deleting the app or writing a nasty-gram to Zynga, but when I
get a message telling me that my own mother has made a move on me, I
don&#8217;t think it&#8217;s cute and fun. I just think the app sending it is dumb,
just a brainless piece of software. It doesn&#8217;t understand me, my mother
or why we might be playing a game together in the first place. That, in
a nutshell, is the problem with all of these social graph applications:
they&#8217;re really great at navigating links between people and really
terrible at understanding those links.</p>

<p>Words with Friends is so-called precisely because Zynga doesn&#8217;t have a
clue who you&#8217;re playing it with.  This is because it&#8217;s modeled after
Facebook, which in turn, only understands one type of connection: the
friend. Yes, the friend, that same relationship we&#8217;ve been modeling
since Friendster continues to be the base unit of social. To be fair,
it&#8217;s not like there&#8217;s been no evolution at all in the last ten years.
Facebook now lets you decorate your friend links with some metadata
denoting a family, colleague or classmate relation, but that doesn&#8217;t
change the fact that you still have to be someone&#8217;s friend before you
can be their colleague.  Of course, as is obvious to anyone that&#8217;s ever
had a job, the world doesn&#8217;t work that way.  And online, your colleagues
should not have default access to the same personal information your
friends or family do.  That&#8217;s silly.</p>

<p>So the real problem with this model isn&#8217;t so much that I get ridiculous
messages from Words with Friends on Valentine&#8217;s Day, but that the dumb
friend graph severely limits the kinds of applications we can build and
the overall usefulness of the service in all sorts of ways ranging from
automatically filtering stories in my feed to setting sane privacy
defaults. To be fair, this is not an easy problem to solve. The friend
link has persisted because it&#8217;s easy to implement, users understand it
and it avoids a some tough problems (what if you and I don&#8217;t agree about
our relationship?).</p>

<p>Google+ did a neat thing with circles, eschewing the concept of
friendship entirely and opting for arbitrary user-defined categories.
Circles fixes a lot of problems with the dumb friend graph.  Facebook
has something similar with groups and Twitter has lists. The problem
with all of these is that (a) they don&#8217;t define relationships and (b)
even if they did, the categorizations are arbitrary and thus not able to
be leveraged.</p>

<p>For example, I have a dedicated G+ circle where I put all the people I
don&#8217;t want to connect with but am afraid of rejecting.  Don&#8217;t worry,
you&#8217;re not in it.  I named this group the 9th Circle because it wasn&#8217;t
immediately obvious to me what such a group of people should be called
and I thought I was being clever.  The name works.  Even if I somehow
forgot what the intended purpose of the grouping was, the name itself
signifies to me some level of danger.  To me.  To a social graph app,
it&#8217;s meaningless.  No one is going to release Words with the 9th Circle
anytime soon.</p>

<p>So if the &#8220;friend&#8221; relationship is big and dumb and arbitrary
categorizations can&#8217;t be meaningfully leveraged, what&#8217;s next? To be
honest, I&#8217;m not sure, but I can&#8217;t help but feel that the social graph
people should start paying more attention to the microformats community.
Just look at all <a href="http://microformats.org/wiki/existing-rel-values">these</a> awesome relationship descriptors! How does Words with Neighbors sound to you? Words with Muses?</p>

<p>Unfortunately, adopting a relationship descriptor standard is the easy
part. Converting said descriptors into something that&#8217;s intuitive, safe
(yes, safe) and useful for users is no small job. In the same way that
the web standards thing finally happened, I think that this kind of
standardized metadata for our relationships is the future, but it&#8217;s not
at all clear to me how we&#8217;ll get there.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/24/ubuntu-hud/">Ubuntu HUD</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-24T20:37:00+00:00" pubdate data-updated="true">Jan 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today Mark Shuttleworth introduced what he&#8217;s calling &#8220;the future of the
menu&#8221; &#8211; at least for Ubuntu, I guess. It&#8217;s called HUD and it&#8217;s a
text-based interface to supplement (replace?) application menus.
Text-based interfaces are always interesting. They&#8217;re great because they
are fast and efficient for expert users and bad because they are really,
really slow and inefficient for novices. These days designers typically
eschew them in favor of GUI because targeting interfaces to expert users
is a pretty good way to lose users.</p>

<p>Though HUD is text-based, there&#8217;s reason to be optimistic about its
suitability for the computing public.  This is because it functions more
like web search than a traditional command line interface, inserting a
results evaluation step in between input and execution. Typing a command
yields a nice dropdown menu of results matching a given input from which
the user can select the &#8220;best&#8221; match. This is a good thing.</p>

<p>With one glaring exception, this gives HUD a real discoverability
advantage over a GUI. If one wanted to discover whether a traditional
GUI application supported a &#8220;transform&#8221; function, one would need to scan
the menu items one by one or resort to some form of help. With HUD, the
user can type the name of the desired action and scan the results. As a
bonus, where the time needed to scan GUI menus increases as a function
of the number of menu items, HUD suffers from no such problem.</p>

<p>The glaring exception is that in order to use HUD successfully, users
must first identify the correct name of the function they wish to
invoke. If a user types &#8220;resize&#8221; instead of &#8220;transform&#8221; how will HUD
know what that user is intending to do? GUI menus are better here
because, although they are slow to scan, they can provide users with a
list of possibilities which users match against their goals.</p>

<p>At Adobe, we saw this first hand while observing users searching the web
to solve problems with graphic design software: users used the search
terms that didn&#8217;t match the application vocabulary and got unhelpful
search results. After getting nothing from search, they returned to the
interface and began scanning it to help identify new search terms.  HUD
is actually worse than web search, because if you watch the video, it&#8217;s
clearly matching program commands letter by letter, whereas Google
employs robust information retrieval and attempts, at least, to match
documents to more abstract &#8220;information needs.&#8221;</p>

<p>This is a real problem, but one I think Ubuntu could fix. If someone is
using HUD, we know a lot more about their intent than if they&#8217;re
searching the web. We know what program they&#8217;re using and something
about the state of that program.  That&#8217;s a lot, especially considering a
typical GUI application has relatively few functions accessible at any
one time.</p>

<p>What I envision is something like this: a function that maps a user
query to a program action by inferring user intent. So basically, less
grep, more Google.  Imagine two components: 1) a synonym list with
probability distributions for various program actions (HUD displays the
actions from highest to lowest probability) and 2) a voluntary analytics
program that tracks users to update the probabilities in (1).</p>

<p>HUD is a cool idea, but in its current form, I have a hard time
envisioning it working well for most people.  The vocabulary problem is
real and it&#8217;s not going away.  If HUD can fix this, I think it could be
something special.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/03/installing-debian-wheezy-on-an-encrypted-lvm-with-windows-dual-boot/">Installing Debian Wheezy on an Encrypted LVM With Windows Dual-boot</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-03T20:13:00+00:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>UPDATE: I&#8217;ve confirmed that this issue is no longer present in the latest version of Debian testing for x86-64.</h3>

<p>For a while now, Debian&#8217;s intaller has supported the Linux Logical
Volume Manager, which allows you to replace your partitions with logical
volumes that can be resized or extended with additional disks easily.
You can find out more about the benefits of LVM on Wikipedia.  The
Debian installer provides a number of automated options for a whole disk
LVM and encrypted LVM setup, but if, for example, you want to dual boot
Windows off of the same disk, you&#8217;re going to need to get your hands
dirty.</p>

<p>For the most part, I followed <a href="http://www.linuxbsdos.com/2011/05/10/how-to-install-ubuntu-11-04-on-an-encrypted-lvm-file-system/">this guide</a>, which is for Ubuntu and doesn&#8217;t discuss dual-booting, but was nonetheless useful. At least until I got to the final step. After selecting &#8220;Finish partitioning and write changes to disk&#8221;, I got a warning message informing me that the installer could not continue because there was unsafe swap space detected.</p>

<p>So what happened? Because I encrypted the entire volume group, rather
than encrypting each logical volume group separately, the installer was
unable to detect that the swap volume was, in fact, encrypted. Now
having an unencrypted swap space is, in face, insecure, but the refusal
of the installer to proceed from this felt silly. Even if I was setting
up unencrypted swap (which I wasn&#8217;t), it&#8217;s my computer. Let me do it.
Warn me, for sure, but let me do it.</p>

<p>How to proceed from this show stopper? I could re-encrypt the swap space
at the logical volume level, but I would be prompted for yet another
password every time I booted up, which wouldn&#8217;t be ideal. Plus, I have
an aversion to unnecessarily complicated setups. So I went back into the
partitioning menu and killed my swap space by selecting &#8220;do not use&#8221; and
then I proceeded with the install.</p>

<p>Debian threw up some warnings about the dangers of installing without
swap, but having 4 GB of ram on the machine, so I wasn&#8217;t too concerned.
Unlike with the unsafe swap space error, this didn&#8217;t prevent me from
moving forward.  So I selected my install packages and booted into the
new OS.</p>

<p>From here, adding a swap volume is a relatively straightforward affair.
You can get detailed information about your logical volumes with
<code>vgdisplay -v vg01</code>.</p>

<p>If you&#8217;re following along at home, change <code>vg01</code> to whatever
you&#8217;ve named your volume group. vgdisplay lists all of the logical
volumes under that volume group. Each entry begins with LV Name, which
is that logical volume&#8217;s name. I had an entry for
<code>/dev/vg01/swap</code>, which was the logical volume I had set
aside for swap but wasn&#8217;t using. Those names will of course be different
on every system, so all of the following commands should be changed to
reflect that. I set up a new swap volume with <code>mkswap -c
/dev/vg01/swap</code>.</p>

<p>Now I&#8217;ve got a swap volume, but it&#8217;s not being used. I can verify this
with <code>free -m</code>. The last line shows 0 available swap space:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Swap: 0 0 0</span></code></pre></td></tr></table></div></figure>


<p>I could enable it by typing swapon <code>/dev/vg01/swap</code>, but I&#8217;d
have to re-enable it every time I boot up. In order to enable the swap
permanently, I edited <code>/etc/fstab</code>, the filesystem table to
include my new swap volume:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/dev/mapper/vg01-swap swap swap defaults 0 0</span></code></pre></td></tr></table></div></figure>


<p>Here, the second and third entries refer to the mount point and
filesystem type respectively and should both be swap, regardless of the
logical volume label. Reboot the system and you&#8217;re done. After system
boot, I typed <code>free -m</code> again to verify the change:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Swap: 3811 0 3811</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/11/gnome-shell/">Gnome Shell</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-11T18:53:00+00:00" pubdate data-updated="true">Nov 11<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was never a huge fan of Gnome pre-Shell,
preferring any of XFCE for the resource utilization, KDE for the robust
feature set and more attractive UI and especially Windows, which I think
is still the one to beat (take that, OS X!). After just two days of use,
I&#8217;m convinced Gnome Shell changes all that. After hearing talk of
&#8220;Activities&#8221;, I went in expecting needless complexity and found instead
a UI that manages to reduce all of the cruft that&#8217;s accumulated over
years of GUI development into a focused, minimal experience while
improving functionality and aesthetics. After just a week with Gnome
3.2, I&#8217;m totally sold.</p>

<p>It&#8217;s important to note that from a strict functionality perspective,
Gnome Shell doesn&#8217;t break any new ground. There are no totally new UI
paradigms, just some of the best ideas in desktop UI &#8211; Expose, Aero
Snap, multiple desktops, search &#8211; brought together as a cohesive whole.
The key breakthrough, if such it can be called, of Gnome Shell is that
instead of launching each of these pieces of UI separately, the
Activities view launches them all at once. It&#8217;s actually quite
brilliant.  This cohesive design makes for a rather minimal experience
&#8211; so minimal that Activities is almost the only piece of UI, which has
one remarkable benefit: you can&#8217;t go to the wrong menu or hit the wrong
key because it simply isn&#8217;t there. If you&#8217;re working in an application
and you want to switch to something else, what you need to do is hit the
Activities key. Need to switch to a different Window? Hit the Activities
key. Need to open a new application? Hit the Activities key. Need to do
a quick Google search? Hit the Activities key. There&#8217;s more, but I&#8217;m
sure you get it. For as long as we&#8217;ve had desktop UI, it&#8217;s almost
mind-boggling that someone didn&#8217;t come up with this earlier.</p>

<p>One drawback is that I found myself spending my first day with Gnome
Shell actively looking for other UI components because there&#8217;s a
constant feeling of &#8220;this can&#8217;t be all there is.&#8221; But, for the most
part, what you see is what you get. One notable exception is the system
shutdown menu item which requires a special keypress to reveal. I ended
up having to search Google before I could shut down my machine, which is
weird.</p>

<p>System configuration is probably the one place where the minimalist
approach fails. I&#8217;m not sure if the system settings application is the
end process of some design goal or merely a work in progress, but either
way it&#8217;s lacking. I had to install a 3rd party application to change
some horrible font defaults and I still haven&#8217;t found a way to make web
searches default to Google instead of Wikpedia. Still, even if Gnome&#8217;s
designers decide not to support more advanced configuration options, I
think it&#8217;s inevitable that the 3rd party tools will get better and
mitigate the need for official support. I mean, it is still Linux,
right?</p>

<p>The next big thing in desktop environments is obviously going to be
touch UI and, of course, how touch and mouse and keyboard will coexist
and Gnome Shell is clearly designed with this in mind. Microsoft has
also revealed their hand with Windows 8, which will essentially be two
different experiences in one: a touch-friendly Metro experience
alongside the traditional Windows desktop. In contrast, the Gnome team
is solving this problem by redesigning individual applications for
full-screen touch UI, the first of which are expected in 3.4. The
crucial difference is that with Gnome&#8217;s approach, non-touch
applications, like, say, Gimp, will inhabit the same space as touch
apps.</p>

<p>Based on what I&#8217;ve seen of both approaches, I think Gnome will get there
first. Because of the focus on individual applications they neatly avoid
the problem of unifying the touch and non-touch experiences. There&#8217;s a
cost though, in that Microsoft&#8217;s touch experience is shaping up to be
really first rate, which I think is possible precisely because they are
separating it out from the traditional desktop. With Gnome, I get a
sense that touch will be supported, but not necessarily catered to.
Ultimately, the jury&#8217;s out on what kind of support for touch Gnome will
have and how that&#8217;ll affect the overall experience, but I&#8217;m certainly
paying attention.</p>

<p>Honestly, this is the first time the design of an open source project
has really wowed me. Gnome might not win any OS X converts with Shell
but it&#8217;s about time there&#8217;s a UI on Linux that&#8217;s good instead of good
enough.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/12/scope-surprise/">Scope surprise</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/22/time-to-end-the-java-hate/">Time to end the Java hate</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/22/clojure-atoms-in-python/">Implementing Clojure&#8217;s atoms in Python</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/29/authentication-over-oauth/">Authentication over OAuth</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/16/words-for-friends/">Words for Friends</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Benjamin Malley -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
